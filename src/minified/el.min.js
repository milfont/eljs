/* el.js */
function Eljs(a){this.version="0.2.0";this.pattern=/\$\{([^}]+)\}/g;this.compiled=!1;this.compiledTemplate="";this.cache={};this.processConfig=function(a){a?(this.json=a.json||{},this.template=a.template||""):(this.json={},this.template="")};this.processConfig(a);var f=function e(a,d){for(var b in d)"object"===typeof d[b]&&"undefined"!==typeof a[b]?e(a[b],d[b]):a[b]=d[b];return a},g,h=function(e){f(this,e);f(this,g());a&&a.helpers&&f(this,a.helpers);var c=function(){return function(a){return(a=this["_ELJS_"+
a])?a():""}}(e);return function(a){return c(a)}};this._createCompiledStatements=function(){var a="var methods = [];",c;for(c in this.cache)this.cache[c]&&(a+="methods['_ELJS_"+c+"'] = function() { return "+this.cache[c]+"; };");return new Function(a+" return methods;")};this._compile=function(){var a=this;this.compiledTemplate=this.template.replace(this.pattern,function(c,d,b){a.cache[b]=d.replace(/&quot;/g,"'");return"${"+b+"}"});g=this._createCompiledStatements();this.compiled=!0;return this};this._parse=
function(){var a="",c=h(this.json);return a=this.compiledTemplate.replace(this.pattern,function(a,b){return c(b)})}}Eljs.prototype={compile:function(a){"undefined"!==typeof a&&this.processConfig(a);return this._compile()},parse:function(a){if(a)this.json=a;this.compiled||this.compile();return this._parse()}};if("undefined"!==typeof module)module.exports.Eljs=Eljs;
/* jquery.el.js */
if("undefined"==typeof Array.prototype.last)Array.prototype.last=function(){return 0<this.length?this[this.length-1]:-1};var trying=function(a){return function d(b,a){var f=b.split?b.split("."):[""],a=a[f.shift()];return 0<f.length&&"undefined"!==typeof a?d(f.join("."),a):a}(a,this)},merge=function merge(e,d){for(var b in d)"object"===typeof d[b]&&"undefined"!==typeof e[b]?merge(e[b],d[b]):e[b]=d[b];return e};
(function(a){var e=a("<div>"),d={},b=/\$\{(\s*?)\partial\(([^}]+)\)\}/g,i=function(c){c="div#"+c.replace(/\"/g,"").replace(/\./g,"\\.").toString();return e.find(c).html().toString()},f=function(c){return d[c]||d["'"+c+"'"]||d['"'+c+'"']};a.extend({getTemplates:function(){return d},clearTemplates:function(){e.html("");d={}},compileTemplates:function(c){var h=c.helpers||{};h.partial=function(a){var b=d[c.sprite].json;b.trying=trying;for(var g="",e=f(a),b=b.trying(a),h=0;h<b.length;h++){var i=a.split(".").last().replace(/s$/i,
"").toLowerCase(),j={};j[i]=b[h];g+=e.parse(j)}return g};a.get(c.url,function(a){e.append(a);if(a=a.match(b))for(var f=0;f<a.length;f++){var g=a[f].replace(b,"$2"),k=i(g);d[g]=(new Eljs({template:k})).compile()}d[c.sprite]=(new Eljs({template:i(c.sprite),helpers:h})).compile();"function"===typeof c.callback&&c.callback(d[c.sprite])})}});a.fn.extend({render:function(c){var b=a(this),d=function(a){return function(d){b.html(d.parse(c.json));a&&a(b)}}(c.callback),e=f(c.sprite),g=merge({},c);g.callback=
d;e?g.callback(e):a.compileTemplates(g);return b}})})(jQuery);