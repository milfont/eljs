/* el.js */
function Eljs(a){this.version="0.2.0";this.pattern=/\$\{([^}]+)\}/g;this.compiled=!1;this.compiledTemplate="";this.cache={};this.processConfig=function(a){a?(this.json=a.json||{},this.template=a.template||""):(this.json={},this.template="")};this.processConfig(a);var f=function e(a,d){for(var b in d)typeof d[b]==="object"&&typeof a[b]!=="undefined"?e(a[b],d[b]):a[b]=d[b];return a},g,h=function(e){f(this,e);f(this,g());a&&a.helpers&&f(this,a.helpers);var c=function(){return function(a){return(a=this["_ELJS_"+
a])?a():""}}(e);return function(a){return c(a)}};this._createCompiledStatements=function(){var a="var methods = [];",c;for(c in this.cache)this.cache[c]&&(a+="methods['_ELJS_"+c+"'] = function() { return "+this.cache[c]+"; };");a+=" return methods;";return new Function(a)};this._compile=function(){var a=this;this.compiledTemplate=this.template.replace(this.pattern,function(c,d,b){a.cache[b]=d.replace(/&quot;/g,"'");return"${"+b+"}"});g=this._createCompiledStatements();this.compiled=!0;return this};
this._parse=function(){var a="",c=h(this.json);return a=this.compiledTemplate.replace(this.pattern,function(a,b){return c(b)})}}Eljs.prototype={compile:function(a){typeof a!=="undefined"&&this.processConfig(a);return this._compile()},parse:function(a){if(a)this.json=a;this.compiled||this.compile();return this._parse()}};if(typeof module!=="undefined")module.exports.Eljs=Eljs;
/* jquery.el.js */
if(typeof Array.prototype.last=="undefined")Array.prototype.last=function(){return this.length>0?this[this.length-1]:-1};Object.defineProperty(Object.prototype,"trying",{enumerable:!1,value:function(c){var f=!1,a=this;(function g(d){var d=d.split("."),b=d[0];a=a?a[b]:void 0;b=typeof a;f=b!="undefined";b=="function"&&(a=a());d.length>1&&(d.shift(),g(d.join(".")))})(c);return f?a:f}});
(function(c){var f=c("<div>"),a={},k=/\$\{partial\(([^}]+)\)\}/g,g=function(b){b="div#"+b.replace(/\"/g,"").replace(/\./g,"\\.").toString();return f.find(b).html().toString()},d=function(b){return a[b]||a["'"+b+"'"]||a['"'+b+'"']};c.extend({clearTemplates:function(){f.html("");a={}},compileTemplates:function(b,i){var j=b.helpers||{};j.partial=function(e){for(var h=a[b.sprite].json,c="",f=d(e),h=h.trying(e),i=0;i<h.length;i++){var g=e.split(".").last().replace(/s$/i,"").toLowerCase(),j={};j[g]=h[i];
c+=f.parse(j)}return c};c.get(b.url,function(e){f.append(e);if(e=e.match(k))for(var c=0;c<e.length;c++){var d=e[c].replace(k,"$1"),l=g(d);a[d]=(new Eljs({template:l})).compile()}a[b.sprite]=(new Eljs({template:g(b.sprite),helpers:j})).compile();typeof i==="function"&&i(a[b.sprite])})}});c.fn.extend({render:function(b,a,f){var e=c(this),h=function(a){e.append(a.parse(b))},g=d(a);g?h(g):c.compileTemplates({url:f,sprite:a},h);return e}})})(jQuery);